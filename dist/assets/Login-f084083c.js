import{d as h,j as C,r as V,k as F,e as I,bQ as L,m as B,o as N,p as U,a as g,b as e,w as o,f as n,u as c,cM as z,cN as D,X as K,t as M,cO as R,l as j,A as w,$ as q,a3 as A,z as T,E as $,B as O,_ as Q}from"./index-e235bd1a.js";import{E as S}from"./el-link-4050cb00.js";import{E as X}from"./el-text-5ee0e48e.js";const G={class:"login"},H={class:"form-cls"},J={class:"title"},P=h({__name:"Login",setup(W){const x=C(),v=new R,s=V({user:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 10 个字符",trigger:"blur"}]}}),i=F(),m=r=>{r&&r.validate(t=>{if(!t)return j.error("用户名或密码不符合规则"),!1;w.login(s.user).then(a=>{w.storeUserInfo(a.data),x.push("/")}).catch(a=>{})})},b=()=>{s.user.username="",s.user.password=""},d=r=>{(r.keyCode==13||r.keyCode==100)&&m(i.value)};return I(()=>window.addEventListener("keydown",d)),L(()=>window.removeEventListener("keydown",d,!1)),(r,t)=>{const a=B("ChromeFilled"),k=q,p=X,_=A,l=T,f=$,y=S,E=O;return N(),U("div",G,[g("div",H,[e(E,{ref_key:"ruleFormRef",ref:i,model:s.user,"status-icon":"",rules:s.rules},{default:o(()=>[g("div",J,[e(k,{size:32,color:"darkcyan"},{default:o(()=>[e(a)]),_:1}),n("学海")]),e(p,{style:{display:"flex","justify-content":"center"},type:"success"},{default:o(()=>[n("书山有路勤为径，学海无涯苦作舟")]),_:1}),e(l,{prop:"username"},{default:o(()=>[e(_,{modelValue:s.user.username,"onUpdate:modelValue":t[0]||(t[0]=u=>s.user.username=u),type:"text",autocomplete:"off","prefix-icon":c(z),placeholder:"用户名/邮箱/手机号码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(l,{prop:"password"},{default:o(()=>[e(_,{modelValue:s.user.password,"onUpdate:modelValue":t[1]||(t[1]=u=>s.user.password=u),type:"password",autocomplete:"off","prefix-icon":c(D),placeholder:"密码","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),e(l,null,{default:o(()=>[e(f,{class:"login-btn",type:"primary",onClick:t[2]||(t[2]=u=>m(i.value)),onKeydown:K(d,["enter"])},{default:o(()=>[n("登录")]),_:1},8,["onKeydown"]),e(f,{class:"login-btn",onClick:b},{default:o(()=>[n("清空")]),_:1})]),_:1}),e(l,{style:{display:"flex","align-content":"space-between"}},{default:o(()=>[e(y,{class:"login-btn",type:"primary",href:"http://localhost:8000/admin"},{default:o(()=>[n("管理员后台")]),_:1}),e(y,{class:"login-btn",type:"primary"},{default:o(()=>[n("忘记密码")]),_:1})]),_:1}),e(p,{size:"small",style:{display:"flex","flex-direction":"row-reverse"}},{default:o(()=>[n(M(c(v).version),1)]),_:1})]),_:1},8,["model","rules"])])])}}});const oe=Q(P,[["__scopeId","data-v-8b4e9d87"]]);export{oe as default};
