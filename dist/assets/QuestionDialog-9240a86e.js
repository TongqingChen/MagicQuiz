import{d as C,k as y,h as x,o as i,c as f,w as s,a as l,f as t,t as a,b as d,u as m,av as z,aw as A,q as u,p as k,g as D,A as Q,l as V,E as N,C as q,_ as F}from"./index-e5e4a600.js";import{E as I}from"./el-tag-298d0148.js";import{E as S}from"./el-image-viewer-281876fc.js";const T={class:"question"},L={style:{color:"darkblue"}},M={key:0},j={key:0,style:{color:"darkred","font-weight":"bold"}},G={style:{color:"darkgreen","font-weight":"bold"}},H={style:{color:"darkgreen"}},J=C({__name:"QuestionDialog",props:{id:null,visible:{type:Boolean},header:null,title:null,image:null,description:null,answer:null,analysis:null,userAnswer:null,is_favourited:{type:Boolean},wrong_times:null},emits:["close"],setup(e,{emit:w}){const o=e,r=y(!1),h=x(()=>o.visible),n=y(!1),b=()=>{r.value=!1;var v=o.is_favourited||n.value;n.value=!1,w("close",v)},p=async()=>{await Q.postFavouriteQuestion(o.id).then(()=>{n.value=!0,V.success("操作成功")})};return(v,_)=>{const g=N,E=S,c=I,B=q;return i(),f(B,{"model-value":m(h),"destroy-on-close":"",draggable:"","before-close":b},{header:s(()=>[l("div",null,[t(a(e.header)+" ",1),d(g,{type:"success",icon:n.value||o.is_favourited?m(z):m(A),round:"",disabled:n.value||o.is_favourited,size:"small",onClick:p},{default:s(()=>[t(a(n.value||o.is_favourited?"已收藏":"收藏"),1)]),_:1},8,["icon","disabled"])])]),footer:s(()=>[r.value?u("",!0):(i(),f(g,{key:0,type:"primary",onClick:_[0]||(_[0]=()=>r.value=!0)},{default:s(()=>[t("显示答案")]),_:1}))]),default:s(()=>[l("div",T,[l("div",L,a(e.title),1),e.image&&e.image.length>0?(i(),f(E,{key:0,src:e.image,fit:"scale-down"},null,8,["src"])):u("",!0),l("div",null,a(e.description),1)]),r.value?(i(),k("div",M,[l("div",{style:D("color:"+(e.wrong_times>0?"darkred":"darkgreen")+"; font-weight: bold")},[d(c,{type:e.wrong_times>0?"danger":"success",size:"small",effect:"dark"},{default:s(()=>[t("错误次数")]),_:1},8,["type"]),t(" "+a(e.wrong_times),1)],4),e.userAnswer?(i(),k("div",j,[d(c,{type:"danger",size:"small",effect:"dark"},{default:s(()=>[t("考生答案")]),_:1}),t(" "+a(e.userAnswer),1)])):u("",!0),l("div",G,[d(c,{type:"success",size:"small",effect:"dark"},{default:s(()=>[t("正确答案")]),_:1}),t(" "+a(e.answer),1)]),l("div",H,[d(c,{type:"success",size:"small",effect:"dark"},{default:s(()=>[t("题目解析")]),_:1}),t(" "+a(e.analysis),1)])])):u("",!0)]),_:1},8,["model-value"])}}});const R=F(J,[["__scopeId","data-v-170976aa"]]);export{R as Q};
