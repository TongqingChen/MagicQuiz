import{d as C,j as m,h as z,o as r,c as _,w as a,a as t,f as s,t as o,b as n,p as v,av as A,aw as D,q as u,m as g,g as Q,A as V,k as N,E as q,C as F,_ as I}from"./index-55c09cc5.js";import{E as S}from"./el-tag-b8b19e38.js";import{E as T}from"./el-image-viewer-f1b4cd86.js";const j={class:"question"},L={style:{color:"darkblue"}},M={key:0},G={key:0,style:{color:"darkred","font-weight":"bold"}},H={style:{color:"darkgreen","font-weight":"bold"}},J={style:{color:"darkgreen","white-space":"pre-wrap"}},K=C({__name:"QuestionDialog",props:{id:{},visible:{type:Boolean},header:{},title:{},image:{},description:{},answer:{},analysis:{},userAnswer:{},is_favourited:{type:Boolean},wrong_times:{}},emits:["close"],setup(y,{emit:k}){const l=y,d=m(!1),w=z(()=>l.visible),i=m(!1),h=()=>{d.value=!1;var e=l.is_favourited||i.value;i.value=!1,k("close",e)},b=async()=>{await V.postFavouriteQuestion(l.id).then(()=>{i.value=!0,N.success("操作成功")})};return(e,f)=>{const p=q,E=T,c=S,B=F;return r(),_(B,{"model-value":w.value,"destroy-on-close":"",draggable:"","before-close":h},{header:a(()=>[t("div",null,[s(o(e.header)+" ",1),n(p,{type:"success",icon:i.value||l.is_favourited?v(A):v(D),round:"",disabled:i.value||l.is_favourited,size:"small",onClick:b},{default:a(()=>[s(o(i.value||l.is_favourited?"已收藏":"收藏"),1)]),_:1},8,["icon","disabled"])])]),footer:a(()=>[d.value?u("",!0):(r(),_(p,{key:0,type:"primary",onClick:f[0]||(f[0]=()=>d.value=!0)},{default:a(()=>[s("显示答案")]),_:1}))]),default:a(()=>[t("div",j,[t("div",L,o(e.title),1),e.image&&e.image.length>0?(r(),_(E,{key:0,src:e.image,fit:"scale-down"},null,8,["src"])):u("",!0),t("div",null,o(e.description),1)]),d.value?(r(),g("div",M,[t("div",{style:Q("color:"+(e.wrong_times>0?"darkred":"darkgreen")+"; font-weight: bold")},[n(c,{type:e.wrong_times>0?"danger":"success",size:"small",effect:"dark"},{default:a(()=>[s("错误次数")]),_:1},8,["type"]),s(" "+o(e.wrong_times),1)],4),e.userAnswer?(r(),g("div",G,[n(c,{type:"danger",size:"small",effect:"dark"},{default:a(()=>[s("考生答案")]),_:1}),s(" "+o(e.userAnswer),1)])):u("",!0),t("div",H,[n(c,{type:"success",size:"small",effect:"dark"},{default:a(()=>[s("正确答案")]),_:1}),s(" "+o(e.answer),1)]),t("div",J,[n(c,{type:"success",size:"small",effect:"dark"},{default:a(()=>[s("题目解析")]),_:1}),s(" "+o(e.analysis),1)])])):u("",!0)]),_:1},8,["model-value"])}}});const U=I(K,[["__scopeId","data-v-502a33c8"]]);export{U as Q};
