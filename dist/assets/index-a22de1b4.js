import{aE as b,aH as h,u as f,ak as C,U as k,aP as i,D as w,aR as M,aO as g,bt as x,aQ as E,aZ as d,b as O,ab as m,d as S,l as P,bu as r,h as y,ah as T}from"./index-28534dab.js";import{a as z}from"./scroll-dc2f35e5.js";const W=(e,t={})=>{b(e)||h("[useLockscreen]","You need to pass a ref param to this function");const s=t.ns||f("popup"),a=C(()=>s.bm("parent","hidden"));if(!k||i(document.body,a.value))return;let l=0,n=!1,o="0";const u=()=>{setTimeout(()=>{E(document==null?void 0:document.body,a.value),n&&document&&(document.body.style.width=o)},200)};w(e,c=>{if(!c){u();return}n=!i(document.body,a.value),n&&(o=document.body.style.width),l=z(s.namespace.value);const p=document.documentElement.clientHeight<document.body.scrollHeight,v=M(document.body,"overflowY");l>0&&(p||v==="scroll")&&n&&(document.body.style.width=`calc(100% - ${l}px)`),g(document.body,a.value)}),x(()=>u())},B=e=>{if(!e)return{onClick:d,onMousedown:d,onMouseup:d};let t=!1,s=!1;return{onClick:o=>{t&&s&&e(o),t=s=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{s=o.target===o.currentTarget}}},H=O({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:m([String,Array,Object])},zIndex:{type:m([String,Number])}}),I={click:e=>e instanceof MouseEvent},L="overlay";var N=S({name:"ElOverlay",props:H,emits:I,setup(e,{slots:t,emit:s}){const a=f(L),l=c=>{s("click",c)},{onClick:n,onMousedown:o,onMouseup:u}=B(e.customMaskEvent?void 0:l);return()=>e.mask?P("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:n,onMousedown:o,onMouseup:u},[y(t,"default")],r.STYLE|r.CLASS|r.PROPS,["onClick","onMouseup","onMousedown"]):T("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[y(t,"default")])}});const A=N;export{A as E,B as a,W as u};
