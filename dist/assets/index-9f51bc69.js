import{J as I,ab as P,P as M,aq as y,Q as H,d as z,G as R,ag as d,ar as W,as as S,j as m,h as N,L as q,Y as G,e as L,a8 as O,at as V,ae as Y,au as j,o as J,m as Q,a as U,M as D,n as T,p as i,g as $,I as F,N as K}from"./index-497a94ff.js";const X=I({zIndex:{type:P([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),Z={scroll:({scrollTop:a,fixed:c})=>M(a)&&y(c),[H]:a=>y(a)},B="ElAffix",ee=z({name:B}),te=z({...ee,props:X,emits:Z,setup(a,{expose:c,emit:g}){const e=a,h=R("affix"),l=d(),p=d(),s=d(),{height:n}=W(),{height:r,width:x,top:E,bottom:w,update:v}=S(p,{windowScroll:!1}),u=S(l),o=m(!1),_=m(0),f=m(0),C=N(()=>({height:o.value?`${r.value}px`:"",width:o.value?`${x.value}px`:""})),k=N(()=>{if(!o.value)return{};const t=e.offset?q(e.offset):0;return{height:`${r.value}px`,width:`${x.value}px`,top:e.position==="top"?t:"",bottom:e.position==="bottom"?t:"",transform:f.value?`translateY(${f.value}px)`:"",zIndex:e.zIndex}}),b=()=>{if(s.value)if(_.value=s.value instanceof Window?document.documentElement.scrollTop:s.value.scrollTop||0,e.position==="top")if(e.target){const t=u.bottom.value-e.offset-r.value;o.value=e.offset>E.value&&u.bottom.value>0,f.value=t<0?t:0}else o.value=e.offset>E.value;else if(e.target){const t=n.value-u.top.value-e.offset-r.value;o.value=n.value-e.offset<w.value&&n.value>u.top.value,f.value=t<0?-t:0}else o.value=n.value-e.offset<w.value},A=()=>{v(),g("scroll",{scrollTop:_.value,fixed:o.value})};return G(o,t=>g("change",t)),L(()=>{var t;e.target?(l.value=(t=document.querySelector(e.target))!=null?t:void 0,l.value||O(B,`Target is not existed: ${e.target}`)):l.value=document.documentElement,s.value=V(p.value,!0),v()}),Y(s,"scroll",A),j(b),c({update:b,updateRoot:v}),(t,ae)=>(J(),Q("div",{ref_key:"root",ref:p,class:T(i(h).b()),style:$(i(C))},[U("div",{class:T({[i(h).m("fixed")]:o.value}),style:$(i(k))},[D(t.$slots,"default")],6)],6))}});var oe=F(te,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const le=K(oe);export{le as E};
