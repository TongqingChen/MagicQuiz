import{e as E,R as h,r as V,O as C,aU as I,j as F,x as m,z as e,m as s,o as L,k as g,bB as B,bC as U,ah as N,P as u,aw as R,S as w,au as S,av as K,N as q}from"./index-0a551006.js";import{a as z,E as D}from"./el-form-item-d5a9ea97.js";import{E as M}from"./el-link-412c8c33.js";import{E as $}from"./el-button-618b83bc.js";/* empty css                 */import{E as y}from"./index-fb447e19.js";import{E as j}from"./index-1c2fee05.js";import"./_Uint8Array-fb63a1a6.js";import"./_initCloneObject-7f275783.js";const x=n=>(S("data-v-699f08db"),n=n(),K(),n),A={class:"login"},O={class:"form-cls"},P=x(()=>m("div",{class:"title"},"学习宝",-1)),T=x(()=>m("div",{style:{"font-size":"14px","line-height":"32px","text-align":"center",color:"yellow"}},"书山有路勤为径，学海无涯苦作舟",-1)),G=E({__name:"Login",setup(n){const v=R(),o=h({user:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 5 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 10 个字符",trigger:"blur"}]}}),d=V(),c=r=>{r&&r.validate(t=>{if(t)w.login(o.user).then(a=>{w.storeUserInfo(a.data),v.push("/")}).catch(a=>{y.error(`用户名或密码错误，${a.code}`)});else return y.error("用户名或密码不符合规则"),!1})},b=()=>{o.user.username="",o.user.password=""},p=r=>{(r.keyCode==13||r.keyCode==100)&&c(d.value)};return C(()=>window.addEventListener("keydown",p)),I(()=>window.removeEventListener("keydown",p,!1)),(r,t)=>{const a=j,l=D,_=$,f=M,k=z;return L(),F("div",A,[m("div",O,[e(k,{ref_key:"ruleFormRef",ref:d,model:o.user,"status-icon":"",rules:o.rules},{default:s(()=>[P,T,e(l,{prop:"username"},{default:s(()=>[e(a,{modelValue:o.user.username,"onUpdate:modelValue":t[0]||(t[0]=i=>o.user.username=i),type:"text",autocomplete:"off","prefix-icon":g(B)},null,8,["modelValue","prefix-icon"])]),_:1}),e(l,{prop:"password"},{default:s(()=>[e(a,{modelValue:o.user.password,"onUpdate:modelValue":t[1]||(t[1]=i=>o.user.password=i),type:"password",autocomplete:"off","prefix-icon":g(U),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),e(l,null,{default:s(()=>[e(_,{class:"login-btn",type:"primary",onClick:t[2]||(t[2]=i=>c(d.value)),onKeydown:N(p,["enter"])},{default:s(()=>[u("登录")]),_:1},8,["onKeydown"]),e(_,{class:"login-btn",onClick:b},{default:s(()=>[u("重置")]),_:1})]),_:1}),e(l,{style:{display:"flex","align-content":"space-between"}},{default:s(()=>[e(f,{class:"login-btn",type:"primary",href:"http://192.168.1.7:2345/admin"},{default:s(()=>[u("管理员后台")]),_:1}),e(f,{class:"login-btn",type:"primary"},{default:s(()=>[u("忘记密码")]),_:1})]),_:1})]),_:1},8,["model","rules"])])])}}});const se=q(G,[["__scopeId","data-v-699f08db"]]);export{se as default};
