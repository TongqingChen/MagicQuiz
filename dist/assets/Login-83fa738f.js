import{d as h,u as C,r as V,j as F,e as I,bl as L,l as B,o as U,m as z,a as g,b as e,w as o,f as n,p as c,cu as D,cv as K,a0 as N,t as R,cw as j,k as q,A as w,a3 as A,a7 as M,z as T,E as S,B as $,_ as G}from"./index-55c09cc5.js";import{E as H}from"./el-link-ee1d696d.js";import{E as J}from"./el-text-2dc1e9d7.js";const O={class:"login"},P={class:"form-cls"},Q={class:"title"},W=h({__name:"Login",setup(X){const x=C(),v=new j,s=V({user:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 10 个字符",trigger:"blur"}]}}),i=F(),m=r=>{r&&r.validate(t=>{if(!t)return q.error("用户名或密码不符合规则"),!1;w.login(s.user).then(a=>{w.storeUserInfo(a.data),x.push("/")}).catch(a=>{})})},b=()=>{s.user.username="",s.user.password=""},d=r=>{(r.keyCode==13||r.keyCode==100)&&m(i.value)};return I(()=>window.addEventListener("keydown",d)),L(()=>window.removeEventListener("keydown",d,!1)),(r,t)=>{const a=B("ChromeFilled"),k=A,p=J,_=M,l=T,f=S,y=H,E=$;return U(),z("div",O,[g("div",P,[e(E,{ref_key:"ruleFormRef",ref:i,model:s.user,"status-icon":"",rules:s.rules},{default:o(()=>[g("div",Q,[e(k,{size:32,color:"darkcyan"},{default:o(()=>[e(a)]),_:1}),n("学海")]),e(p,{style:{display:"flex","justify-content":"center"},type:"success"},{default:o(()=>[n("书山有路勤为径，学海无涯苦作舟")]),_:1}),e(l,{prop:"username"},{default:o(()=>[e(_,{modelValue:s.user.username,"onUpdate:modelValue":t[0]||(t[0]=u=>s.user.username=u),type:"text",autocomplete:"off","prefix-icon":c(D),placeholder:"用户名/邮箱/手机号码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(l,{prop:"password"},{default:o(()=>[e(_,{modelValue:s.user.password,"onUpdate:modelValue":t[1]||(t[1]=u=>s.user.password=u),type:"password",autocomplete:"off","prefix-icon":c(K),placeholder:"密码","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),e(l,null,{default:o(()=>[e(f,{class:"login-btn",type:"primary",onClick:t[2]||(t[2]=u=>m(i.value)),onKeydown:N(d,["enter"])},{default:o(()=>[n("登录")]),_:1},8,["onKeydown"]),e(f,{class:"login-btn",onClick:b},{default:o(()=>[n("清空")]),_:1})]),_:1}),e(l,{style:{display:"flex","align-content":"space-between"}},{default:o(()=>[e(y,{class:"login-btn",type:"primary",href:"http://localhost:8000/admin"},{default:o(()=>[n("管理员后台")]),_:1}),e(y,{class:"login-btn",type:"primary"},{default:o(()=>[n("忘记密码")]),_:1})]),_:1}),e(p,{size:"small",style:{display:"flex","flex-direction":"row-reverse"}},{default:o(()=>[n(R(c(v).version),1)]),_:1})]),_:1},8,["model","rules"])])])}}});const oe=G(W,[["__scopeId","data-v-8b4e9d87"]]);export{oe as default};
