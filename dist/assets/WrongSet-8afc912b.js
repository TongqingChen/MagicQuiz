import{d as W,j as $,k as T,r as f,e as I,A as N,o as c,p as w,a as v,b as t,w as n,F as g,s as z,c as _,f as x,t as h,u as d,W as A,aS as D,q as R,aT as M,E as F,i as L,aU as O,aV as Q,_ as U}from"./index-4357d460.js";import{Q as G}from"./QuestionDialog-1f819e13.js";/* empty css                 */import{E as H,a as J}from"./el-table-column-a782e6d2.js";import"./el-tag-295c830a.js";import{E as K,a as P}from"./el-radio-group-3c412ddf.js";/* empty css                        */import{W as X}from"./http-f1fd749e.js";import{E as Y}from"./index-64011dd0.js";import{v as Z}from"./directive-a56b1257.js";import"./el-image-viewer-b7e97dd6.js";import"./debounce-63dc6fc2.js";import"./index-abd42a8b.js";const ee=p=>(O("data-v-1a48e3cd"),p=p(),Q(),p),te={class:"subject"},oe=ee(()=>v("span",null,"科目：",-1)),ae=W({__name:"WrongSet",setup(p){const y=$();let m=T(!0);var r=f({});const e=f({subject:"",drawerVisible:!1,q:new X}),q=a=>{e.q=r[e.subject][a],e.drawerVisible=!0};I(()=>{N.getWrongSetsMixedBySubName().then(a=>{var o=Object.keys(a.data);o.forEach(i=>{a.data[i].length>0&&(r[i]=a.data[i])}),o=Object.keys(r),o.length>0&&(e.subject=o[0]),m.value=!1})});const E=()=>{M.confirm(`开始【${e.subject}《错题集》】(60分钟)考试吗？`,"请确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{y.push({path:"/exam",query:{id:-1,name:"错题集",sub_name:e.subject,exam_seconds:60*60}})})},j=({row:a,rowIndex:o})=>o%2==0?"success-row":"";return(a,o)=>{const i=K,S=P,s=H,b=F,V=J,k=L,B=Y,C=Z;return c(),w(g,null,[v("div",te,[oe,t(S,{modelValue:e.subject,"onUpdate:modelValue":o[0]||(o[0]=l=>e.subject=l),size:"small"},{default:n(()=>[(c(!0),w(g,null,z(d(r),(l,u)=>(c(),_(i,{label:u},{default:n(()=>[x(h(u)+"("+h(l.length)+")",1)]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])]),A((c(),_(V,{data:d(r)[e.subject],"row-class-name":j,border:"",style:{width:"100%",color:"darkslategray","font-size":"13px"}},{default:n(()=>[t(s,{fixed:"",type:"index",width:"32px"}),t(s,{prop:"quiz_name",label:"试卷名",width:"88px",sortable:"","show-overflow-tooltip":""}),t(s,{prop:"type",label:"题型",width:"60px",sortable:""}),t(s,{prop:"title",label:"题目","show-overflow-tooltip":""}),t(s,{prop:"description",label:"描述","show-overflow-tooltip":""}),t(s,{prop:"level",label:"难度",width:"60px",sortable:""}),t(s,{prop:"record_times",label:"次数",width:"60px",sortable:""}),t(s,{fixed:"right",label:"查看",width:"40px"},{default:n(l=>[t(b,{link:"",type:"primary",size:"small",onClick:u=>q(l.$index)},{default:n(()=>[x("详情")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[C,d(m)]]),e.subject.length>0?(c(),_(B,{key:0,position:"bottom",offset:20},{default:n(()=>[t(k,{placement:"right",content:"错题考试"},{default:n(()=>[t(b,{type:"primary",icon:d(D),circle:"",onClick:E},null,8,["icon"])]),_:1})]),_:1})):R("",!0),t(G,{visible:e.drawerVisible,header:`${e.q.qid}.【${e.subject}】${e.q.quiz_name}`,title:e.q.title,image:e.q.image,description:e.q.description,analysis:e.q.analysis,answer:e.q.answer,userAnswer:e.q.user_answer,onClose:o[1]||(o[1]=l=>e.drawerVisible=!1)},null,8,["visible","header","title","image","description","analysis","answer","userAnswer"])],64)}}});const we=U(ae,[["__scopeId","data-v-1a48e3cd"]]);export{we as default};
