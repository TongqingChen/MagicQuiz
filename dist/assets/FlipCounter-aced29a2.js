var f=Object.defineProperty;var y=(t,e,r)=>e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var i=(t,e,r)=>(y(t,typeof e!="symbol"?e+"":e,r),r);import{_,o as c,m as u,F as p,s as A,a as h,f as g,t as m,n as d,q as v}from"./index-89aeeb22.js";var w=(t=>(t[t.UNKNOWN=-1]="UNKNOWN",t[t.CHOICE=0]="CHOICE",t[t.LOGIC=1]="LOGIC",t[t.BLANK=2]="BLANK",t[t.CODING=3]="CODING",t))(w||{});class F{constructor(){i(this,"index",-1);i(this,"id",-1);i(this,"type",-1);i(this,"title","");i(this,"description","");i(this,"image",null);i(this,"answer","");i(this,"analysis","");i(this,"difficulty_level",-1);i(this,"doubt",!1);i(this,"userAnswer","");i(this,"displayType","");i(this,"score",0);i(this,"is_favourited",!1);i(this,"wrong_times",0)}copyFrom(e){this.index=e.index,this.id=e.id,this.type=e.type,this.title=e.title,this.description=e.description,this.image=e.image,this.answer=e.answer,this.analysis=e.analysis,this.difficulty_level=e.difficulty_level,this.doubt=e.doubt,this.userAnswer=e.userAnswer,this.displayType=e.displayType,this.score=e.score,this.is_favourited=e.is_favourited,this.wrong_times=e.wrong_times}}var N=(t=>(t[t.IDLE=0]="IDLE",t[t.ONGOING=1]="ONGOING",t[t.FINISHED=2]="FINISHED",t))(N||{});class G{constructor(){i(this,"scores",0);i(this,"id",0);i(this,"state",0);i(this,"start_time",0);i(this,"use_minutes",0);i(this,"name","");i(this,"subjectId",0);i(this,"subjectName","");i(this,"gradeName","");i(this,"volumeName","");i(this,"question_num",0);i(this,"exam_seconds",0);i(this,"meta",[])}}const I={data(){return{isIE:!1,timer:0,timeArray:this.split?new Array(this.type*2).fill("0"):new Array(this.type).fill("00"),timeArrayT:this.split?new Array(this.type*2).fill("0"):new Array(this.type).fill("00"),isAnimate:this.split?new Array(this.type*2).fill(!1):new Array(this.type).fill(!1)}},props:{seconds:{type:Number,default:10},type:{type:[Number,String],default:4},split:{type:Boolean,default:!0},stop:{type:Boolean,default:!1},timeUnit:{type:Array,default:()=>[]}},computed:{step(){return this.split?2:1},arr(){const t=this.timeArray.length,e=this.step,r=[t-1,t-e-1,t-e*2-1,t-e*3-1];return r.length=this.type>1?this.type:1,r},endTime(){return Date.now()+this.seconds*1e3}},watch:{timeArray(t,e){const r=[];t.forEach((n,a)=>{n!==e[a]&&(r.push({value:n,index:a}),this.isAnimate[a]=!0)}),setTimeout(()=>{r.forEach(n=>{this.timeArrayT[n.index]=n.value})},350)},endTime(t){t>0&&this.start(200)}},mounted(){(window.ActiveXObject||"ActiveXObject"in window||window.navigator.userAgent.indexOf("Edge")>-1)&&(this.isIE=!0),console.log("mounted...")},beforeUnmount(){console.log("beforeUnmount..."),clearTimeout(this.timer)},methods:{start(t=1e3){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{var e=(this.endTime-Date.now())/1e3;if(e<=0&&!this.stop){this.$emit("timeUp");return}var r=Math.floor(e/86400);e-=r*86400;var n=Math.floor(e/3600);e-=n*3600;var a=Math.floor(e/60);e-=a*60;var l=Math.floor(e);const o=Number(this.type);let s=[];this.split?(o>=4&&(s=String(r).padStart(2,"0").split("")),o>=3&&(s=s.concat(String(n).padStart(2,"0").split(""))),o>=2&&(s=s.concat(String(a).padStart(2,"0").split(""))),s=s.concat(String(l).padStart(2,"0").split(""))):(o>=4&&s.push(String(r).padStart(2,"0")),o>=3&&s.push(String(n).padStart(2,"0")),o>=2&&s.push(String(a).padStart(2,"0")),s.push(String(l).padStart(2,"0"))),this.timeArray=s,!this.stop&&this.start()},t)},onAnimateEnd(t){this.isAnimate[t]=!1},isTimeUnitShow(t){return this.arr.includes(t)&&(t!=this.timeArray.length-1||this.timeUnit[3])},setTimeUnit(t){switch(t){case this.timeArray.length-1:return this.timeUnit[3]||"";case this.timeArray.length-this.step-1:return this.timeUnit[2]||"";case this.timeArray.length-this.step*2-1:return this.timeUnit[1]||"";default:return this.timeUnit[0]||""}}}},b={class:d(["time-box"])},S={class:"base"},O={class:"base-b"},U=["onAnimationend"];function C(t,e,r,n,a,l){return c(),u("div",{class:d(["vue-countdown-component",{theme2:r.split},{ie:a.isIE}])},[(c(!0),u(p,null,A(a.timeArray,(o,s)=>(c(),u(p,{key:s},[h("div",b,[h("div",S,[g(m(o),1),h("div",O,m(a.timeArrayT[s]),1)]),h("div",{class:d(["face",{anime:a.isAnimate[s]}]),onAnimationend:E=>l.onAnimateEnd(s)},m(a.timeArrayT[s]),43,U),h("div",{class:d(["back",{anime:a.isAnimate[s]}])},m(o),3)]),l.isTimeUnitShow(s)?(c(),u("div",{class:"time-unit",key:`unit-${s}`},m(l.setTimeUnit(s)),1)):v("",!0)],64))),128))],2)}const B=_(I,[["render",C],["__scopeId","data-v-a0e287cf"]]);export{N as E,B as F,F as Q,G as a,w as b};
