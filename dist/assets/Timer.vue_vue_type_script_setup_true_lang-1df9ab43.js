var u=Object.defineProperty;var _=(t,a,n)=>a in t?u(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n;var s=(t,a,n)=>(_(t,typeof a!="symbol"?a+"":a,n),n);import{d as f,x as m,D as I,aN as p,o as N,a as k,t as b,g as v}from"./index-28534dab.js";var O=(t=>(t[t.UNKNOWN=-1]="UNKNOWN",t[t.CHOICE=0]="CHOICE",t[t.LOGIC=1]="LOGIC",t[t.CODING=2]="CODING",t))(O||{});class F{constructor(){s(this,"index",-1);s(this,"id",-1);s(this,"type",-1);s(this,"title","");s(this,"description","");s(this,"image",null);s(this,"answer","");s(this,"userAnswer","");s(this,"displayType","");s(this,"score",0)}}var g=(t=>(t[t.IDLE=0]="IDLE",t[t.ONGOING=1]="ONGOING",t[t.FINISHED=2]="FINISHED",t))(g||{});class G{constructor(){s(this,"scores",0);s(this,"id",0);s(this,"state",0);s(this,"start_time",0);s(this,"use_minutes",0);s(this,"name","");s(this,"subjectId",0);s(this,"subjectName","");s(this,"question_num",0);s(this,"exam_seconds",0);s(this,"meta",[])}}const w={key:0},x=f({__name:"Timer",props:{start_text:{default:"【剩余时间】"},duration_secs:{default:60},blink:{type:Boolean,default:!1},start_flag:{type:Boolean,default:!1},count_down:{type:Boolean,default:!0}},emits:["end_event"],setup(t,{emit:a}){const n=t,e=m({timer:0,durationSecs:60,text:"",blinkFlag:!0,color:{},is_stoped:!1}),d=()=>{e.is_stoped=!1,e.durationSecs=n.count_down?n.duration_secs:0,clearInterval(e.timer),e.timer=window.setInterval(()=>{if(n.blink&&(e.blinkFlag=!e.blinkFlag),!n.blink||e.blinkFlag){let c=n.count_down?--e.durationSecs:++e.durationSecs;const r=["","",""];for(var o=0;o<3;o++){var i=c%60;c=Math.floor(c/60),r[o]=`00${i}`.slice(-2)}e.text=`${n.start_text}${r[2]}:${r[1]}:${r[0]}`,(n.count_down&&e.durationSecs<=0||!n.count_down&&e.durationSecs>=n.duration_secs)&&(l(),a("end_event"))}},n.blink?500:1e3)},l=()=>{if(!e.is_stoped){e.is_stoped=!0;var o=Math.round((n.count_down?n.duration_secs-e.durationSecs:e.durationSecs)/60);clearInterval(e.timer),e.text=`【用时】${o}分钟`,e.blinkFlag=!0}};return I(()=>n.start_flag,(o,i)=>{o?d():l()}),p(()=>{clearInterval(e.timer)}),(o,i)=>e.blinkFlag?(N(),k("span",w,b(e.text),1)):v("",!0)}});export{G as E,O as Q,x as _,g as a,F as b};
